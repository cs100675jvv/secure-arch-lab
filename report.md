# üìã –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏–π –∞—É–¥–∏—Ç: –ó–≤—ñ—Ç –ø—Ä–æ –≤–∏—è–≤–ª–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏

## –†–µ–∑—é–º–µ

–ê—É–¥–∏—Ç –≤–∏—è–≤–∏–≤ **7 –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏—Ö –ø–æ—Ä—É—à–µ–Ω—å**, —è–∫—ñ –ø–æ—Ä—É—à—É—é—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∏ –±–µ–∑–ø–µ–∫–∏, —Å–ø–æ—Å—Ç–µ—Ä–µ–∂—É–≤–∞–Ω–æ—Å—Ç—ñ —Ç–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–æ—Å—Ç—ñ.

---

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞ ‚Ññ1: –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Ç–∏–ø—ñ–∑–∞—Ü—ñ—ó —Ç–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö

**–§–∞–π–ª:** `main.py` (—Ñ—É–Ω–∫—Ü—ñ—ó `get_user` —Ç–∞ `login`)

**–û–ø–∏—Å –ø—Ä–æ–±–ª–µ–º–∏:**
–§—É–Ω–∫—Ü—ñ—ó FastAPI –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Ç–∏–ø—ñ–∑–∞—Ü—ñ—é –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤, Pydantic –º–æ–¥–µ–ª—ñ –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Ç–∞ `response_model` –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Å—Ö–µ–º–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ. –í —Ñ—É–Ω–∫—Ü—ñ—ó `login` –¥–∞–Ω—ñ –ø–∞—Ä—Å—è—Ç—å—Å—èÁõ¥Êé• –∑ JSON –±–µ–∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏.

```python
@app.get("/user")
def get_user(id):  # ‚ùå –±–µ–∑ —Ç–∏–ø—ñ–∑–∞—Ü—ñ—ó
    return {"id": id, "name": "Alice"}

@app.post("/login")
def login(request: Request):
    data = request.json()  # ‚ùå –Ω–µ–±–µ–∑–ø–µ—á–Ω–µ –ø–∞—Ä—Å–µ–Ω–Ω—è
    if data["password"] == "secret":
        return {"status": "ok"}
```

**–ü–æ—Ä—É—à–µ–Ω–∏–π –ø—Ä–∏–Ω—Ü–∏–ø:**
- **Defense in Depth** ‚Äî –≤—ñ–¥—Å—É—Ç–Ω—è –ø–µ—Ä—à–∞ –ª—ñ–Ω—ñ—è –∑–∞—Ö–∏—Å—Ç—É (–≤–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö)
- **–ù–µ–≤–∏–¥–∏–º—ñ—Å—Ç—å –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏** ‚Äî –≤—ñ–¥—Å—É—Ç–Ω—è OpenAPI —Å—Ö–µ–º–∞, –º–æ–∂–ª–∏–≤—ñ –ø–æ–º–∏–ª–∫–∏ –≤ runtime-—É
- **Least Privilege** ‚Äî —Ñ—É–Ω–∫—Ü—ñ—ó –ø—Ä–∏–π–º–∞—é—Ç—å –±—É–¥—å-—è–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∏

**–ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
1. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Pydantic –º–æ–¥–µ–ª—ñ –¥–ª—è —Ç–∏–ø—ñ–∑–∞—Ü—ñ—ó —Ç–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
2. –î–æ–¥–∞—Ç–∏ `response_model` –¥–æ –º–∞—Ä—à—Ä—É—Ç—ñ–≤
3. –ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —É FastAPI)

---

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞ ‚Ññ2: –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –ª–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –∞—É–¥–∏—Ç—É

**–§–∞–π–ª:** `main.py` (–≤—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó)

**–û–ø–∏—Å –ø—Ä–æ–±–ª–µ–º–∏:**
–£ –∫–æ–¥—ñ –Ω–µ–º–∞—î –∂–æ–¥–Ω–æ–≥–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥—ñ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –ø–æ–º–∏–ª–æ–∫ –∞–±–æ –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—ñ–≤. –ù–µ–º–æ–∂–ª–∏–≤–æ –≤—ñ–¥—Å—Ç–µ–∂–∏—Ç–∏, —Ö—Ç–æ, –∫–æ–ª–∏ —ñ —â–æ —Ä–æ–±–∏–≤ –≤ —Å–∏—Å—Ç–µ–º—ñ.

**–ü–æ—Ä—É—à–µ–Ω–∏–π –ø—Ä–∏–Ω—Ü–∏–ø:**
- **Spyability** (—Å–ø–æ—Å—Ç–µ—Ä–µ–∂—É–≤–∞–Ω—ñ—Å—Ç—å) ‚Äî –≤—ñ–¥—Å—É—Ç–Ω—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –ø–æ–¥—ñ–π
- **–ù–µ–≤–∏–¥–∏–º—ñ—Å—Ç—å –ø–æ–¥—ñ–π –¥–ª—è –∞—É–¥–∏—Ç—É** ‚Äî –Ω–µ–º–∞—î –∑–∞–ø–∏—Å—É –ø—Ä–æ —Å–ø—Ä–æ–±–∏ –≤—Ö–æ–¥—É, –ø–æ–º–∏–ª–∫–∏, —Ç–æ—â–æ
- **Non-repudiation** ‚Äî –Ω–µ–º–æ–∂–ª–∏–≤–æ –¥–æ–≤–µ—Å—Ç–∏, —è–∫–∏–π –∑–∞–ø–∏—Ç –±—É–≤ –≤–∏–∫–æ–Ω–∞–Ω–∏–π

**–ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
1. –î–æ–¥–∞—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è (JSON-format)
2. –õ–æ–≥—É–≤–∞—Ç–∏ –≤—Å—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ –¥—ñ—ó (login, get_user)
3. –õ–æ–≥—É–≤–∞—Ç–∏ –ø–æ–º–∏–ª–∫–∏ —Ç–∞ –≤–∏–Ω—è—Ç–∫–∏
4. –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –∑ —Å–∏—Å—Ç–µ–º–æ—é —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ–≥–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è (ELK, CloudWatch)

---

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞ ‚Ññ3: –°–µ–∫—Ä–µ—Ç–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è —á–µ—Ä–µ–∑ environment variables –±–µ–∑ –∑–∞—Å–æ–±—É —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è

**–§–∞–π–ª:** `deployment.yaml`

**–û–ø–∏—Å –ø—Ä–æ–±–ª–µ–º–∏:**
–•–æ—á–∞ `deployment.yaml` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `secretRef` –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—ñ–≤ –∑ Kubernetes Secret, –≤—ñ–¥—Å—É—Ç–Ω—è –≤–∫–∞–∑—ñ–≤–∫–∞ –Ω–∞ –º–µ—Ö–∞–Ω—ñ–∑–º —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ü–∏–º–∏ —Å–µ–∫—Ä–µ—Ç–∞–º–∏ (HashiCorp Vault, AWS Secrets Manager —Ç–æ—â–æ). –£ —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—ñ Kubernetes Secret –¥–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–∂–Ω–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –æ–±–º–µ–∂–µ–Ω—å.

```yaml
envFrom:
  - secretRef:
      name: user-api-secrets  # ‚ùå –∑–≤—ñ–¥–∫–∏ –±–µ—Ä—É—Ç—å—Å—è —Ü—ñ —Å–µ–∫—Ä–µ—Ç–∏?
```

**–ü–æ—Ä—É—à–µ–Ω–∏–π –ø—Ä–∏–Ω—Ü–∏–ø:**
- **Secret Management** ‚Äî –≤—ñ–¥—Å—É—Ç–Ω—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç–∞–º–∏
- **Least Privilege** ‚Äî Kubernetes Secret –¥–æ—Å—Ç—É–ø–Ω–∞ –≤—Å—ñ–º Pod'–∞–º —É namespace
- **Rotation** ‚Äî –Ω–µ–º–∞—î –º–µ—Ö–∞–Ω—ñ–∑–º—É –¥–ª—è —Ä–æ—Ç–∞—Ü—ñ—ó —Å–µ–∫—Ä–µ—Ç—ñ–≤

**–ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
1. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ HashiCorp Vault –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç–∞–º–∏
2. –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Sealed Secrets –¥–ª—è Kubernetes
3. –î–æ–¥–∞—Ç–∏ RBAC –¥–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ Secret'—ñ–≤
4. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Ä–æ—Ç–∞—Ü—ñ—é —Å–µ–∫—Ä–µ—Ç—ñ–≤

---

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞ ‚Ññ4: –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å security checks —É CI/CD pipeline

**–§–∞–π–ª:** `ci.yml`

**–û–ø–∏—Å –ø—Ä–æ–±–ª–µ–º–∏:**
CI pipeline –º—ñ—Å—Ç–∏—Ç—å —Ç—ñ–ª—å–∫–∏ –±–∞–∑–æ–≤–∏–π –∫—Ä–æ–∫ –¥–ª—è –∑–±—ñ—Ä–∫–∏ Docker –æ–±—Ä–∞–∑—É –±–µ–∑ –∂–æ–¥–Ω–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ –±–µ–∑–ø–µ–∫–∏. –í—ñ–¥—Å—É—Ç–Ω—ñ:
- SBOM (Software Bill of Materials) –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è
- –°–∫–∞–Ω—É–≤–∞–Ω–Ω—è –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π (Trivy)
- –°–∫–∞–Ω—É–≤–∞–Ω–Ω—è –∫–æ–¥—É (Semgrep)
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∏—Ç–æ–∫—ñ–≤ —Å–µ–∫—Ä–µ—Ç—ñ–≤ (gitleaks)

```yaml
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Build container
        run: docker build -t user-api .  # ‚ùå –±–µ–∑ –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫
```

**–ü–æ—Ä—É—à–µ–Ω–∏–π –ø—Ä–∏–Ω—Ü–∏–ø:**
- **DevSecOps** ‚Äî –±–µ–∑–ø–µ–∫–∞ –Ω–µ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∞ –≤ pipeline
- **Shift Left** ‚Äî –ø–æ–º–∏–ª–∫–∏ –≤–∏—è–≤–ª—è—é—Ç—å—Å—è –ø—ñ–∑–Ω–æ, –∞ –Ω–µ –ø—ñ–¥ —á–∞—Å —Ä–æ–∑—Ä–æ–±–∫–∏
- **Auditability** ‚Äî –Ω–µ–º–∞—î –¥–æ–∫–∞–∑—É —Ç–æ–≥–æ, —â–æ –æ–±—Ä–∞–∑ –±—É–≤ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∏–π

**–ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
1. –î–æ–¥–∞—Ç–∏ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π (Trivy)
2. –î–æ–¥–∞—Ç–∏ —Å—Ç–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –∫–æ–¥—É (Semgrep)
3. –î–æ–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –≤–∏—Ç–æ–∫—ñ–≤ —Å–µ–∫—Ä–µ—Ç—ñ–≤ (gitleaks)
4. –ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ SBOM

---

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞ ‚Ññ5: Security Group –≤—ñ–¥–∫—Ä–∏—Ç–∏–π –¥–ª—è –≤—Å—å–æ–≥–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É

**–§–∞–π–ª:** `main.tf`

**–û–ø–∏—Å –ø—Ä–æ–±–ª–µ–º–∏:**
Security Group –¥–æ–∑–≤–æ–ª—è—î inbound —Ç—Ä–∞—Ñ—ñ–∫ –Ω–∞ –ø–æ—Ä—Ç–∏ 443 –∑ –±—É–¥—å-—è–∫–æ—ó IP-–∞–¥—Ä–µ—Å–∏ (`0.0.0.0/0`). –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ API –¥–æ—Å—Ç—É–ø–Ω–∞ –≤—Å—ñ–º —É —Å–≤—ñ—Ç—ñ –±–µ–∑ –æ–±–º–µ–∂–µ–Ω—å.

```hcl
ingress {
    from_port   = 443
    to_port     = 443
    protocol    = "tcp"
    cidr_blocks = ["0.0.0.0/0"]  # ‚ùå –≤—ñ–¥–∫—Ä–∏—Ç–∞ –∑–æ–Ω–∞
}
```

**–ü–æ—Ä—É—à–µ–Ω–∏–π –ø—Ä–∏–Ω—Ü–∏–ø:**
- **Least Privilege** ‚Äî –¥–æ–∑–≤–æ–ª–µ–Ω—ñ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ñ –ø—Ä–∏–≤—ñ–ª–µ—ó –∑–∞–º—ñ—Å—Ç—å –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏—Ö
- **Network segmentation** ‚Äî –≤—ñ–¥—Å—É—Ç–Ω—è –º–µ—Ä–µ–∂–µ–≤–∞ —ñ–∑–æ–ª—è—Ü—ñ—è
- **Defense in Depth** ‚Äî –Ω–µ–º–∞—î –ø–µ—Ä—à–æ—ó –ª—ñ–Ω—ñ—ó –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ DDoS —Ç–∞ –Ω–µ–≤—ñ–¥–æ–º–∏—Ö –∞—Ç–∞–∫

**–ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
1. –û–±–º–µ–∂–∏—Ç–∏ –¥–æ—Å—Ç—É–ø —Ç—ñ–ª—å–∫–∏ –¥–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö IP –∞–¥—Ä–µ—Å –∞–±–æ CIDR –±–ª–æ–∫—ñ–≤
2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ WAF (Web Application Firewall)
3. –î–æ–¥–∞—Ç–∏ DDoS –∑–∞—Ö–∏—Å—Ç (AWS Shield)
4. –†–æ–∑–≥–ª—è–Ω—É—Ç–∏ VPN –∞–±–æ –±–∞–∑—ñ–æ–Ω —Ö–æ—Å—Ç –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É

---

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞ ‚Ññ6: Dockerfile –±–µ–∑ –ø—ñ–¥–ø–∏—Å—ñ–≤ –æ–±—Ä–∞–∑—ñ–≤, –º—ñ–Ω—ñ–º—ñ–∑–∞—Ü—ñ—ó —Ç–∞ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è

**–§–∞–π–ª:** `Dockerfile`

**–û–ø–∏—Å –ø—Ä–æ–±–ª–µ–º–∏:**
Dockerfile –º–∞—î –∫—ñ–ª—å–∫–∞ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º:
1. –ë–∞–∑–æ–≤–∏–π –æ–±—Ä–∞–∑ `python:3.10` ‚Äî –ø–æ–≤–Ω–∏–π –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ –∑ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω–∏–º –ü–û
2. –ù–µ–º–∞—î multi-stage build –¥–ª—è –º—ñ–Ω—ñ–º—ñ–∑–∞—Ü—ñ—ó –æ–±—Ä–∞–∑—É
3. –ù–µ–º–∞—î –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø—ñ–¥–ø–∏—Å—ñ–≤ –±–∞–∑–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑—É
4. –ù–µ–º–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ SBOM –æ–±—Ä–∞–∑—É
5. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –∑ –¥–µ—Ñ–æ–ª—Ç–Ω–∏–º–∏ –ø—Ä–∏–≤—ñ–ª–µ—è–º–∏ (–º–æ–∂–µ –±—É—Ç–∏ root)

```dockerfile
FROM python:3.10  # ‚ùå –≤–µ–ª–∏–∫–∏–π –±–∞–∑–æ–≤–∏–π –æ–±—Ä–∞–∑, –º–æ–∂–ª–∏–≤–æ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–π

WORKDIR /app
COPY app /app
RUN pip install fastapi uvicorn  # ‚ùå –±–µ–∑ pinned –≤–µ—Ä—Å—ñ–π

CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
```

**–ü–æ—Ä—É—à–µ–Ω–∏–π –ø—Ä–∏–Ω—Ü–∏–ø:**
- **Attack Surface Minimization** ‚Äî –æ–±—Ä–∞–∑ –º—ñ—Å—Ç–∏—Ç—å –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω–µ –ü–û
- **Least Privilege** ‚Äî –Ω–µ–º–∞—î –æ–±–º–µ–∂–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- **Supply Chain Security** ‚Äî –Ω–µ–º–∞—î –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—è –æ–±—Ä–∞–∑—ñ–≤
- **Integrity** ‚Äî –Ω–µ–º–∞—î –ø—ñ–¥–ø–∏—Å—É –æ–±—Ä–∞–∑—É

**–ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
1. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ distroless –±–∞–∑–æ–≤—ñ –æ–±—Ä–∞–∑–∏
2. –î–æ–¥–∞—Ç–∏ multi-stage build
3. –ó–∞–∫—Ä—ñ–ø–∏—Ç–∏ –≤–µ—Ä—Å—ñ—ó –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
4. –ó–∞–ø—É—Å–∫–∞—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤—ñ–¥ non-root –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
5. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø—ñ–¥–ø–∏—Å–∏ –æ–±—Ä–∞–∑—ñ–≤ (Cosign)

---

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞ ‚Ññ7: –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å Network Policies —Ç–∞ Pod Security

**–§–∞–π–ª:** `deployment.yaml`

**–û–ø–∏—Å –ø—Ä–æ–±–ª–µ–º–∏:**
Kubernetes Deployment –Ω–µ –º—ñ—Å—Ç–∏—Ç—å –∂–æ–¥–Ω–∏—Ö –æ–±–º–µ–∂–µ–Ω—å –Ω–∞ –º–µ—Ä–µ–∂—É —Ç–∞ –±–µ–∑–ø–µ–∫—É Pod'–∞:
- –ù–µ–º–∞—î NetworkPolicy –¥–ª—è –º–µ—Ä–µ–∂–µ–≤–æ—ó —ñ–∑–æ–ª—è—Ü—ñ—ó
- –ù–µ–º–∞—î PodSecurityPolicy –∞–±–æ SecurityContext –¥–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤
- –ù–µ–º–∞—î Resource Quotas
- –í—ñ–¥—Å—É—Ç–Ω—è default deny –≤—Å—ñ–º –≤/–≤–∏—Ö—ñ–¥–Ω–æ–º—É —Ç—Ä–∞—Ñ—ñ–∫—É

```yaml
spec:
  template:
    spec:
      containers:
        - name: user-api
          image: user-api:latest  # ‚ùå –±–µ–∑ SecurityContext
          # ‚ùå –±–µ–∑ –æ–±–º–µ–∂–µ–Ω—å –Ω–∞ –º–µ—Ä–µ–∂—É
```

**–ü–æ—Ä—É—à–µ–Ω–∏–π –ø—Ä–∏–Ω—Ü–∏–ø:**
- **Network Segmentation** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–µ —Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è –∑ –±—É–¥—å-–∫–∏–º —É –∫–ª–∞—Å—Ç–µ—Ä—ñ
- **Least Privilege** ‚Äî –Ω–µ–º–∞—î –æ–±–º–µ–∂–µ–Ω—å –Ω–∞ –ø—Ä–∏–≤—ñ–ª–µ—ó –ø—Ä–æ—Ü–µ—Å—É
- **Defense in Depth** ‚Äî –≤—ñ–¥—Å—É—Ç–Ω—è –¥—Ä—É–≥–∞ –ª—ñ–Ω—ñ—è –∑–∞—Ö–∏—Å—Ç—É

**–ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
1. –î–æ–¥–∞—Ç–∏ NetworkPolicy –¥–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è —Ç—Ä–∞—Ñ—ñ–∫—É
2. –î–æ–¥–∞—Ç–∏ SecurityContext –∑ non-root, read-only filesystem
3. –î–æ–¥–∞—Ç–∏ PodSecurityPolicy
4. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ RBAC –¥–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è –ø—Ä–∞–≤ —Å–µ—Ä–≤—ñ—Å-–∞–∫–∫–∞—É–Ω—Ç–∞

---

## üìä –ú–∞—Ç—Ä–∏—Ü—è –≤–ø–ª–∏–≤—É

| –ü—Ä–æ–±–ª–µ–º–∞ | –í–ø–ª–∏–≤ | –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è | –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç |
|----------|-------|------------------------|-----------|
| ‚Ññ1: –¢–∏–ø—ñ–∑–∞—Ü—ñ—è | –í–∏—Å–æ–∫–∏–π | –ù–∏–∑—å–∫–∞ | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–∏–π |
| ‚Ññ2: –õ–æ–≥—É–≤–∞–Ω–Ω—è | –í–∏—Å–æ–∫–∏–π | –ù–∏–∑—å–∫–∞ | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–∏–π |
| ‚Ññ3: –°–µ–∫—Ä–µ—Ç–∏ | –ö—Ä–∏—Ç–∏—á–Ω–∏–π | –í–∏—Å–æ–∫–∞ | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–∏–π |
| ‚Ññ4: CI/CD checks | –í–∏—Å–æ–∫–∏–π | –°–µ—Ä–µ–¥–Ω—è | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–∏–π |
| ‚Ññ5: Security Group | –ö—Ä–∏—Ç–∏—á–Ω–∏–π | –ù–∏–∑—å–∫–∞ | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–∏–π |
| ‚Ññ6: Dockerfile | –í–∏—Å–æ–∫–∏–π | –°–µ—Ä–µ–¥–Ω—è | üü† –í–∞–∂–ª–∏–≤–æ |
| ‚Ññ7: Network Policies | –í–∏—Å–æ–∫–∏–π | –í–∏—Å–æ–∫–∞ | üü† –í–∞–∂–ª–∏–≤–æ |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –∑–∞ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∞–º–∏

### üî¥ –§–∞–∑–∞ 1 (–ö—Ä–∏—Ç–∏—á–Ω—ñ, 1-2 —Ç–∏–∂–Ω—ñ)
1. –ó–∞–∫—Ä—ñ–ø–∏—Ç–∏ Security Group (Problem #5)
2. –î–æ–¥–∞—Ç–∏ –±–∞–∑–æ–≤—É —Ç–∏–ø—ñ–∑–∞—Ü—ñ—é —É FastAPI (Problem #1)
3. –î–æ–¥–∞—Ç–∏ –±–∞–∑–æ–≤–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è (Problem #2)

### üü† –§–∞–∑–∞ 2 (–í–∞–∂–ª–∏–≤—ñ, 2-4 —Ç–∏–∂–Ω—ñ)
4. –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ Vault –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç–∞–º–∏ (Problem #3)
5. –û–Ω–æ–≤–∏—Ç–∏ CI pipeline –∑ security checks (Problem #4)
6. –û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ Dockerfile (Problem #6)

### üü° –§–∞–∑–∞ 3 (–ë–∞–∂–∞–Ω—ñ, 4-6 —Ç–∏–∂–Ω—ñ–≤)
7. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Network Policies —Ç–∞ SecurityContext (Problem #7)

---

*–ó–≤—ñ—Ç —Å–∫–ª–∞–¥–µ–Ω–∏–π: 2025-12-07*
*–í–µ—Ä—Å—ñ—è: 1.0*
